\label{ch:ci}
Η Συνεχής Ενσωμάτωση (Continuous Integration, CI), είναι μια πρακτική ανάπτυξης λογισμικού η οποία αναγκάζει τους Developers ενός Project να ανεβάζουν και να ενσωματώνουν κώδικα στο κύριο Branch ενός αποθετηρίου, τουλάχιστον μία φορά την ημέρα. Παράλληλα με την ενσωμάτωση του κώδικα, γίνεται αυτοματοποιημένος έλεγχος (Automated Testing), μέσω Unit Testing ή/και Integration Testing. Αυτό καθιστά ευκολότερη την εύρεση και γρηγορότερη την διόρθωση των λαθών στον κώδικα, καθώς τα λάθη εντοπίζονται νωρίτερα καθ'όλη την διαδικασία της ανάπτυξης, μέσα σε λεπτά από την ενσωμάτωση του κώδικα στο αποθετήριο\sucite{ci_cd}.

Στο PiLock χρησιμοποιήθηκε Συνεχής Ενσωμάτωση μέσω Unit Tests, στον Server. Συγκεκριμένα, με κάθε νέο commit και Push στο αποθετήριο, στο GitHub, γίνεται η εξής σειρά ελέγχων, μέσω του Testing Framework του Django:

\begin{itemize}
	\item Δημιουργείται μια βάση δεδομένων, αυστηρά για ελέγχους, καθώς επίσης και ένας χρήστης.
	\item Γίνεται Σύνδεση του χρήστη με το σύστημα του PiLock, χρησιμοποιόντας το πρώτο στάδιο.
	\item Γίνεται είσοδος με λανθασμένα στοιχεία (1ο στάδιο). Θα πρέπει να λάβει αρνητική απάντηση εισόδου.
	\item Γίνεται δοκιμή ξεκλειδώματος. Το σύστημα ελέγχει αν πήρε την απάντηση που έπρεπε να λάβει στην περίπτωση επιτυχούς ξεκλειδώματος. Αν είναι σωστή η απάντηση, το Test περνάει.
	\item Γίνεται δοκιμή ξεκλειδώματος με λανθασμένα στοιχεία. Συγκεκριμένα, γίνεται αλλαγή του τεκμηρίου πρόσβασης σε ένα τυχαίο τεκμήριο, τυχαίου μήκους. Θα πρέπει να λάβει απάντηση άρνησης πρόσβασης. Παρόμοια θα γίνει με το PIN και το νούμερο προφίλ συσκευής. Θα πρέπει σε όλες τις περιπτώσεις να λάβει αρνητικές απαντήσεις.
\end{itemize}

Τα παραπάνω Tests εκτελούνται μέσω μιας υπηρεσίας γνωστής ως Travis-CI\footnote{\url{https://travis-ci.org/}}, η οποία αναλαμβάνει την κατασκευή νοητών μηχανών (Virtual Machines), προκειμένου να εκτελεστούν οι έλεγχοι.

Το παραπάνω Build Test γίνεται αυτόματα με κάθε νέο Commit που περνάει στο αποθετήριο μέσω Push. Το Build Test θα πρέπει να περνάει υποχρεωτικά κατά την διαδικασία υποβολής Pull Request. Αν δεν περνάει το Build, δεν γίνεται να ενσωματωθεί το νέο branch πάνω στο Master.